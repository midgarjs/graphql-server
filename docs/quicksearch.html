<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"global.html":{"id":"global.html","title":"Global","body":" Documentation Classes GraphqlServerPluginGraphqlServerService Events event:@midgar/graphql-server:afterStartevent:@midgar/graphql-server:beforeStartevent:@midgar/graphql-server:context Global name Global Members &lt;constant&gt; name :string Service name Type: string Events @midgar/graphql-server:afterStart afterStart event. @midgar/graphql-server:beforeStart beforeStart event. @midgar/graphql-server:context context event. × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-20T19:32:43+00:00 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes GraphqlServerPluginGraphqlServerService Events event:@midgar/graphql-server:afterStartevent:@midgar/graphql-server:beforeStartevent:@midgar/graphql-server:context Global name Classes Classes GraphqlServerPlugin GraphqlServerService Events @midgar/graphql-server:afterStart afterStart event. @midgar/graphql-server:beforeStart beforeStart event. @midgar/graphql-server:context context event. × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-20T19:32:43+00:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes GraphqlServerPluginGraphqlServerService Events event:@midgar/graphql-server:afterStartevent:@midgar/graphql-server:beforeStartevent:@midgar/graphql-server:context Global name @midgar/graphql-server PLugin Midgar pour ajouter un serveur graphql avec loader de modules graphql et injéction de services. Installation $ npm i @midgar/graphql-server Si tout s'est bien passé, un message de confirmation s'affiche: #midgar-cli @midgar/graphql-server added to plugins.json ! Fonctionnement Ce plugin ajoute un type de module midgar-graphql dans le dossier ./graphql/. module grapql Exemple de module graphl: import { gql } from 'apollo-server-express' // Type defs graphql const typeDefs = gql` type User { id: ID! email: String! } extend type Query { addUser(email: String): User getUsers: [User] } ` export default { // Services à incjecter dependencies: ['mid:user'] graphql: (mid, userService) =&gt; { return { typeDefs, resolvers:{ User: { ... } Query: { createUser: async (parent, args, ctx, info) =&gt; { await userService.create(args.email, args.parssword) }, getUsers: (parent, args, ctx, info) =&gt; { ... }, } } } } } Vous pouvez séparrer le fichier si besoin: import typeDefs from './user.typedefs' import resolvers from './user.resolvers' export default { dependencies: ['mid:user'] graphql: (...args) =&gt; { return { typeDefs, resolvers: () =&gt; resolvers(...args) } } } Les fichiers *.typedefs.js et *.resolvers.js ne sont pas importé lors de l'import des modules graphql. × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-20T19:32:43+00:00 using the DocStrap template. "},"GraphqlServerPlugin.html":{"id":"GraphqlServerPlugin.html","title":"Class: GraphqlServerPlugin","body":" Documentation Classes GraphqlServerPluginGraphqlServerService Events event:@midgar/graphql-server:afterStartevent:@midgar/graphql-server:beforeStartevent:@midgar/graphql-server:context Global name Class: GraphqlServerPlugin GraphqlServerPlugin GraphqlServerPlugin class new GraphqlServerPlugin() Members moduleTypeKey :string Graphql module type key Type: string Methods &lt;async&gt; init() Init plugin × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-20T19:32:43+00:00 using the DocStrap template. "},"GraphqlServerService.html":{"id":"GraphqlServerService.html","title":"Class: GraphqlServerService","body":" Documentation Classes GraphqlServerPluginGraphqlServerService Events event:@midgar/graphql-server:afterStartevent:@midgar/graphql-server:beforeStartevent:@midgar/graphql-server:context Global name Class: GraphqlServerService GraphqlServerService GraphqlServerService class new GraphqlServerService() Members config :object Config Type: object expressService :ExpressService Express service Type: ExpressService mid :Midgar Midgar instance Type: Midgar server :ApolloServer Apollo server instance Type: ApolloServer Methods &lt;async&gt; start() Load graphql modules and start apollo server × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-20T19:32:43+00:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
