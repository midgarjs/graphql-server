<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes GraphqlServerPluginGraphqlServerService Events event:@midgar/graphql-server:afterStartevent:@midgar/graphql-server:beforeStartevent:@midgar/graphql-server:context Classes Classes GraphqlServerPlugin GraphqlServerService Events @midgar/graphql-server:afterStart afterStart event. @midgar/graphql-server:beforeStart beforeStart event. @midgar/graphql-server:context context event. × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-07T19:22:35+00:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes GraphqlServerPluginGraphqlServerService Events event:@midgar/graphql-server:afterStartevent:@midgar/graphql-server:beforeStartevent:@midgar/graphql-server:context @midgar/graphql-server PLugin Midgar pour ajouter graphql serveur avec loader de modules graphql et injéction de services. Installation $ npm i @midgar/graphql-server --save Si tout s'est bien passé, un message de confirmation s'affiche: #midgar-cli @midgar/graphql-server added to plugins.json ! Fonctionnement Ajoute un dossier de plugin midgar-graphql: ./graphql/ pour les modules graphl. module grapql Un module graphql est un fichier javacript exportant les typeDefs et les resolvers graphql. Exemple d'un module graphl: import { gql } from 'apollo-server-express' // Type defs graphql const typeDefs = gql` type User { id: ID! email: String! } extend type Query { addUser(email: String): User getUsers: [User] } ` export default { // Services à incjecter dependencies: ['mid:user'] graphql: (mid, userService) =&gt; { return { typeDefs, resolvers:{ User: { ... } Query: { createUser: async (parent, args, ctx, info) =&gt; { await userService.create(args.email, args.parssword) }, getUsers: (parent, args, ctx, info) =&gt; { ... }, } } } } } Vous pouvez séparrer le fichier si besoin: import typeDefs from './user.typedefs' import resolvers from './user.resolvers' export default { dependencies: ['mid:user'] graphql: (...args) =&gt; { return { typeDefs, resolvers: () =&gt; resolvers(...args) } } } Les fichiers *.typedefs.js et *.resolvers.js ne sont pas importé lors de l'import des modules graphql. × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-07T19:22:35+00:00 using the DocStrap template. "},"GraphqlServerPlugin.html":{"id":"GraphqlServerPlugin.html","title":"Class: GraphqlServerPlugin","body":" Documentation Classes GraphqlServerPluginGraphqlServerService Events event:@midgar/graphql-server:afterStartevent:@midgar/graphql-server:beforeStartevent:@midgar/graphql-server:context Class: GraphqlServerPlugin GraphqlServerPlugin GraphqlServerPlugin class new GraphqlServerPlugin() Members dirKey :String Graphql dir key Type: String Methods &lt;async&gt; init() Init plugin × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-07T19:22:35+00:00 using the DocStrap template. "},"GraphqlServerService.html":{"id":"GraphqlServerService.html","title":"Class: GraphqlServerService","body":" Documentation Classes GraphqlServerPluginGraphqlServerService Events event:@midgar/graphql-server:afterStartevent:@midgar/graphql-server:beforeStartevent:@midgar/graphql-server:context Class: GraphqlServerService GraphqlServerService GraphqlServerService class new GraphqlServerService() Members config :Object Config Type: Object expressService :ExpressService Express service Type: ExpressService mid :Midgar Midgar instance Type: Midgar server :ApolloServer Apollo server instance Type: ApolloServer Methods &lt;async&gt; init() Int × Search results Close Documentation generated by JSDoc 3.6.3 on 2020-01-07T19:22:35+00:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
